<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crate Chronicles</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="item-designs.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>

    <div class="background-animation"></div>

    <div id="start-screen" class="screen active">
        <h1 class="game-title">Crate Chronicles</h1>
        <div class="start-button-container">
            <button id="start-button" class="action-button">Start Game</button>
        </div>
    </div>

    <div id="main-screen" class="screen">
        <button class="changelog-btn">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </button>
        <h2 class="screen-title">Main Menu</h2>
        <div class="main-buttons-container">
            <button id="check-money-btn" class="main-button">Check Money</button>
            <button id="inventory-btn" class="main-button">Inventory</button>
            <button id="shop-btn" class="main-button">Shop</button>
            <button id="work-btn" class="main-button">Work</button>
            <button id="item-dex-btn" class="main-button">Item Dex</button>
            <button id="settings-btn" class="main-button">Settings</button>
        </div>
    </div>

    <div id="money-screen" class="screen">
        <h2 class="screen-title">Financials</h2>
        <div class="money-stats-container">
            <div class="money-display-box">
                <div class="money-amount" id="money-display">$500</div>
                <div class="money-label">Money</div>
            </div>
            <div class="stats-box">
                <h3>Statistics</h3>
                <div class="stat-line">
                    <div>Money Spent:</div>
                    <div id="money-spent-display" class="stat-value text-red">$0</div>
                </div>
                <div class="stat-line">
                    <div>Money Made:</div>
                    <div id="money-made-display" class="stat-value text-green">$0</div>
                </div>
                <div class="stat-line">
                    <div>Total Profit:</div>
                    <div id="total-profit-display" class="stat-value text-green">$0</div>
                </div>
            </div>
        </div>
        <button id="back-from-money-btn" class="action-button back-button">Back</button>
    </div>

    <div id="work-screen" class="screen">
        <h2 class="screen-title">Work</h2>
        <div class="work-options-container">
            <div class="work-option">
                <div class="work-text">Do a quick job (5s)</div>
                <button id="do-job-btn" class="action-button">Earn Money</button>
                <div id="job-cooldown" class="cooldown-timer">Ready</div>
            </div>
            <div class="work-option">
                <div class="work-text">Dig for Treasure (10s)</div>
                <button id="dig-treasure-btn" class="action-button">Dig!</button>
                <div id="treasure-cooldown" class="cooldown-timer">Ready</div>
            </div>
        </div>
        <button id="back-from-work-btn" class="action-button back-button">Back</button>
    </div>

    <div id="inventory-screen" class="screen">
        <button class="back-button">Back</button>
        <h2 class="screen-title">Inventory</h2>
        <div class="inventory-tabs">
            <button id="crates-tab" class="tab-button active">Crates</button>
            <button id="items-tab" class="tab-button">Items</button>
        </div>
        <div class="inventory-container">
            <div id="crates-container" class="item-grid active"></div>
            <div id="items-container" class="item-grid"></div>
        </div>
        <div class="inventory-actions">
            <button id="open-crate-btn" class="action-button hidden">Open Crate</button>
            <button id="sell-item-btn" class="action-button hidden">Sell Item</button>
        </div>
    </div>

    <div id="open-crate-screen" class="screen">
        <h2 class="screen-title">Opening Crate</h2>
        <div id="opening-crate-container">
             <div id="opening-crate-pixelart" class="crate-image"></div>
        </div>
        <div id="tap-instruction" class="instruction-text">Tap the crate to open!</div>
        <div id="item-drop-display" class="item-drop-text hidden"></div>
        <div id="item-drop-pixelart" class="pixel-art-container hidden"></div>
        <button id="finish-opening-btn" class="action-button hidden">Finish</button>
    </div>

    <div id="shop-screen" class="screen">
        <button class="back-button">Back</button>
        <h2 class="screen-title">Shop</h2>
        <div class="shop-items-container">
            <div class="shop-item">
                <div class="item-name">Normal Crate</div>
                <div class="item-cost">$500</div>
                <button class="buy-button" data-crate-type="normal">Buy</button>
            </div>
            <div class="shop-item">
                <div class="item-name">Uncommon Crate</div>
                <div class="item-cost">$800</div>
                <button class="buy-button" data-crate-type="uncommon">Buy</button>
            </div>
            <div class="shop-item">
                <div class="item-name">Rare Crate</div>
                <div class="item-cost">$1100</div>
                <button class="buy-button" data-crate-type="rare">Buy</button>
            </div>
        </div>
        <div class="buy-slider-container">
            <span class="slider-label">Buy Amount: <span id="buy-amount-value">1</span></span>
            <input type="range" id="buy-amount-slider" min="1" max="100" value="1">
        </div>
    </div>

    <div id="item-dex-screen" class="screen">
        <button class="back-button">Back</button>
        <h2 class="screen-title">Item Dex</h2>
        <div id="item-dex-grid" class="item-dex-grid"></div>
    </div>

    <div id="settings-screen" class="screen">
        <button class="back-button">Back</button>
        <h2 class="screen-title">Settings</h2>
        <div class="settings-options-container">
            <button id="save-game-btn" class="main-button">Save Game</button>
            <button id="reset-game-btn" class="main-button">Reset Game</button>
            <button id="credits-btn" class="main-button">Credits</button>
        </div>
    </div>

    <div id="credits-screen" class="screen">
        <button class="back-button">Back</button>
        <h2 class="screen-title">Credits</h2>
        <div class="credits-content">
            <div class="credits-section">
                <h3>Game Design & Development</h3>
                <p>Crate Chronicles Team</p>
            </div>
            <div class="credits-section">
                <h3>Item Art & Concepts</h3>
                <p>Pixel Art Generator</p>
            </div>
            <div class="credits-section">
                <h3>Special Thanks</h3>
                <p>The Idle Game Community</p>
            </div>
            <p id="maker-credit" class="clickable">The real maker of the game 0Azuree</p>
        </div>
    </div>

    <div id="notification-popup" class="notification-box">
        <p id="notification-message"></p>
    </div>

    <div id="reset-popup" class="popup-box">
        <h3>Are you sure?</h3>
        <p>This will erase all your progress!</p>
        <div class="popup-buttons">
            <button id="reset-yes-btn" class="popup-button reset-confirm">Yes, reset</button>
            <button id="reset-no-btn" class="popup-button reset-cancel">No, cancel</button>
        </div>
    </div>

    <div id="code-popup" class="popup-box">
        <h3>Enter Code</h3>
        <input type="text" id="code-input" placeholder="Enter code here...">
        <div class="popup-buttons">
            <button id="code-submit-btn" class="popup-button">Submit</button>
            <button id="code-cancel-btn" class="popup-button">Cancel</button>
        </div>
    </div>

    <div id="changelog-popup" class="popup-box">
        <h3>Changelogs</h3>
        <div id="changelog-text">
            <p><strong>- New Feature:</strong> Added changelog button and screen.</p>
            <p><strong>- Fix:</strong> The crate buying popup now works correctly.</p>
            <p><strong>- Update:</strong> The main menu has been reordered to "Check Money, Inventory, Shop, Work, Item Dex, Settings."</p>
            <p><strong>- Update:</strong> The font has been changed to a more readable and nice font.</p>
            <p><strong>- Fix:</strong> The crate texture is now visible.</p>
            <p><strong>- New Feature:</strong> You can now sell crates for 200 currency.</p>
            <p><strong>- Update:</strong> Uncommon crate drop rates have been increased by 1% for uncommon, rare, mythic, and legendary items.</p>
            <p><strong>- New Feature:</strong> Items and crates now stack in the inventory.</p>
            <p><strong>- New Feature:</strong> Custom scroll slider added to the inventory.</p>
            <p><strong>- Update:</strong> The shop slider now goes up to 100.</p>
            <p><strong>- New Feature:</strong> A popup now says "Your to broke to buy this" if you lack funds.</p>
            <p><strong>- New Feature:</strong> The background now features a falling crate animation.</p>
        </div>
        <div class="popup-buttons">
            <button id="changelog-close-btn" class="popup-button">Close</button>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
